"use strict";(self.webpackChunkecommerce_frontend=self.webpackChunkecommerce_frontend||[]).push([[764],{6764:(j,u,c)=>{c.r(u),c.d(u,{CartModule:()=>I});var l=c(177),a=c(749),t=c(8699),d=c(8065);function p(r,m){if(1&r){const e=t.RV6();t.j41(0,"tr")(1,"td"),t.EFF(2),t.k0s(),t.j41(3,"td"),t.EFF(4),t.k0s(),t.j41(5,"td")(6,"button",8),t.bIt("click",function(){const s=t.eBV(e).$implicit,o=t.XpG(2);return t.Njj(o.decreaseQuantity(s))}),t.EFF(7,"\u2212"),t.k0s(),t.EFF(8),t.j41(9,"button",8),t.bIt("click",function(){const s=t.eBV(e).$implicit,o=t.XpG(2);return t.Njj(o.increaseQuantity(s))}),t.EFF(10,"+"),t.k0s()(),t.j41(11,"td"),t.EFF(12),t.k0s(),t.j41(13,"td")(14,"button",9),t.bIt("click",function(){const s=t.eBV(e).$implicit,o=t.XpG(2);return t.Njj(o.removeItem(s.id))}),t.EFF(15,"Remove"),t.k0s()()()}if(2&r){const e=m.$implicit;t.R7$(2),t.JRh(e.name),t.R7$(2),t.SpI("\u20b9",e.price,""),t.R7$(4),t.SpI(" ",e.quantity," "),t.R7$(4),t.SpI("\u20b9",e.price*e.quantity,"")}}function C(r,m){if(1&r){const e=t.RV6();t.j41(0,"div")(1,"table",3)(2,"thead")(3,"tr")(4,"th"),t.EFF(5,"Product"),t.k0s(),t.j41(6,"th"),t.EFF(7,"Price"),t.k0s(),t.j41(8,"th"),t.EFF(9,"Qty"),t.k0s(),t.j41(10,"th"),t.EFF(11,"Total"),t.k0s(),t.nrm(12,"th"),t.k0s()(),t.j41(13,"tbody"),t.DNE(14,p,16,4,"tr",4),t.k0s()(),t.j41(15,"h4",5),t.EFF(16),t.k0s(),t.j41(17,"div",5)(18,"button",6),t.bIt("click",function(){t.eBV(e);const i=t.XpG();return t.Njj(i.clearCart())}),t.EFF(19,"Clear Cart"),t.k0s(),t.j41(20,"button",7),t.bIt("click",function(){t.eBV(e);const i=t.XpG();return t.Njj(i.proceedToCheckout())}),t.EFF(21,"Proceed to Checkout"),t.k0s()()()}if(2&r){const e=t.XpG();t.R7$(14),t.Y8G("ngForOf",e.cartItems),t.R7$(2),t.SpI("Total Amount: \u20b9",e.totalAmount,"")}}function h(r,m){1&r&&(t.j41(0,"p"),t.EFF(1,"Your cart is empty. "),t.j41(2,"a",10),t.EFF(3,"Go shopping"),t.k0s()())}const F=[{path:"",component:(()=>{class r{constructor(e,n){this.cartService=e,this.router=n,this.cartItems=[],this.totalAmount=0}ngOnInit(){this.loadCart()}loadCart(){this.cartItems=this.cartService.getCart(),this.calculateTotal()}calculateTotal(){this.totalAmount=this.cartItems.reduce((e,n)=>e+n.price*n.quantity,0)}increaseQuantity(e){e.quantity+=1,localStorage.setItem("cart_items",JSON.stringify(this.cartItems)),this.calculateTotal()}decreaseQuantity(e){e.quantity>1?(e.quantity-=1,localStorage.setItem("cart_items",JSON.stringify(this.cartItems))):this.removeItem(e.id),this.calculateTotal()}removeItem(e){this.cartService.removeItem(e),this.loadCart()}clearCart(){this.cartService.clearCart(),this.loadCart()}proceedToCheckout(){0!==this.cartItems.length?this.router.navigate(["/orders/checkout"]):alert("Cart is empty!")}static{this.\u0275fac=function(n){return new(n||r)(t.rXU(d.m),t.rXU(a.Ix))}}static{this.\u0275cmp=t.VBU({type:r,selectors:[["app-cart-list"]],decls:6,vars:2,consts:[[1,"container","mt-4"],[4,"ngIf","ngIfElse"],["emptyCart",""],[1,"table"],[4,"ngFor","ngForOf"],[1,"mt-3"],[1,"btn","btn-warning","me-2",3,"click"],[1,"btn","btn-success",3,"click"],[1,"btn","btn-sm","btn-secondary",3,"click"],[1,"btn","btn-danger","btn-sm",3,"click"],["routerLink","/products"]],template:function(n,i){if(1&n&&(t.j41(0,"div",0)(1,"h2"),t.EFF(2,"Your Cart"),t.k0s(),t.DNE(3,C,22,2,"div",1),t.DNE(4,h,4,0,"ng-template",null,2,t.C5r),t.k0s()),2&n){const s=t.sdS(5);t.R7$(3),t.Y8G("ngIf",i.cartItems.length>0)("ngIfElse",s)}},dependencies:[l.Sq,l.bT,a.Wk]})}}return r})()}];let f=(()=>{class r{static{this.\u0275fac=function(n){return new(n||r)}}static{this.\u0275mod=t.$C({type:r})}static{this.\u0275inj=t.G2t({imports:[a.iI.forChild(F),a.iI]})}}return r})();var k=c(4341),_=c(1626);let I=(()=>{class r{static{this.\u0275fac=function(n){return new(n||r)}}static{this.\u0275mod=t.$C({type:r})}static{this.\u0275inj=t.G2t({imports:[l.MD,k.YN,_.q1,f]})}}return r})()}}]);